{% extends "employee_base.html" %}

{% block title %}Onboarding Assistant - Employee Portal{% endblock %}

{% block page_content %}
<div class="container-fluid">
    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">
            <i class="fas fa-robot me-2"></i>Your Personal Onboarding Assistant
        </h1>
        <div class="d-flex
            <span class="me-2">
                <span class="badge bg-primary">Day 3 of 5</span>
            </span>
            <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#helpModal">
                <i class="fas fa-question-circle me-1"></i> Help
            </button>
        </div>
    </div>

    <!-- Welcome Card -->
    <div class="card shadow mb-4">
        <div class="card-body text-center py-5">
            <img src="https://img.icons8.com/clouds/200/000000/artificial-intelligence.png" alt="AI Assistant" class="mb-4" style="width: 120px;">
            <h2 class="text-primary mb-3">Welcome to Your First Week, {{ employee.name|default('New Employee') }}! ðŸ‘‹</h2>
            <p class="lead">I'm your AI Onboarding Assistant, here to help you settle in and get up to speed.</p>
            <button class="btn btn-primary mt-2" id="startTourBtn">
                <i class="fas fa-play me-1"></i> Start Guided Tour
            </button>
        </div>
    </div>

    <div class="row">
        <!-- Today's Agenda -->
        <div class="col-lg-6 mb-4">
            <div class="card shadow h-100">
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">
                        <i class="far fa-calendar-alt me-2"></i>Today's Agenda
                    </h6>
                    <span class="badge bg-primary">{{ today.strftime('%A, %B %d') }}</span>
                </div>
                <div class="card-body">
                    <div class="list-group list-group-flush">
                        <div class="list-group-item d-flex align-items-center">
                            <div class="flex-shrink-0 me-3">
                                <div class="bg-primary bg-opacity-10 p-2 rounded-circle">
                                    <i class="fas fa-laptop text-primary"></i>
                                </div>
                            </div>
                            <div class="flex-grow-1">
                                <h6 class="mb-1">IT Setup & Access</h6>
                                <p class="mb-0 small text-muted">9:00 AM - 10:00 AM</p>
                                <p class="mb-0 small">Get your laptop, email, and system access set up</p>
                            </div>
                            <span class="badge bg-success bg-opacity-10 text-success">Upcoming</span>
                        </div>
                        
                        <div class="list-group-item d-flex align-items-center">
                            <div class="flex-shrink-0 me-3">
                                <div class="bg-warning bg-opacity-10 p-2 rounded-circle">
                                    <i class="fas fa-users text-warning"></i>
                                </div>
                            </div>
                            <div class="flex-grow-1">
                                <h6 class="mb-1">Team Introduction</h6>
                                <p class="mb-0 small text-muted">10:30 AM - 11:30 AM</p>
                                <p class="mb-0 small">Meet your team members and learn about their roles</p>
                            </div>
                            <span class="badge bg-success bg-opacity-10 text-success">Upcoming</span>
                        </div>
                        
                        <div class="list-group-item d-flex align-items-center">
                            <div class="flex-shrink-0 me-3">
                                <div class="bg-info bg-opacity-10 p-2 rounded-circle">
                                    <i class="fas fa-utensils text-info"></i>
                                </div>
                            </div>
                            <div class="flex-grow-1">
                                <h6 class="mb-1">Lunch with Manager</h6>
                                <p class="mb-0 small text-muted">12:30 PM - 1:30 PM</p>
                                <p class="mb-0 small">Casual lunch to discuss your role and expectations</p>
                            </div>
                            <span class="badge bg-success bg-opacity-10 text-success">Upcoming</span>
                        </div>
                        
                        <div class="list-group-item d-flex align-items-center">
                            <div class="flex-shrink-0 me-3">
                                <div class="bg-purple bg-opacity-10 p-2 rounded-circle">
                                    <i class="fas fa-book text-purple"></i>
                                </div>
                            </div>
                            <div class="flex-grow-1">
                                <h6 class="mb-1">Company Policies Training</h6>
                                <p class="mb-0 small text-muted">2:00 PM - 3:30 PM</p>
                                <p class="mb-0 small">Review important company policies and procedures</p>
                            </div>
                            <span class="badge bg-success bg-opacity-10 text-success">Upcoming</span>
                        </div>
                    </div>
                    
                    <div class="mt-3 text-center">
                        <a href="#" class="btn btn-sm btn-outline-primary">
                            <i class="fas fa-calendar-plus me-1"></i> Add to Calendar
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- First Week Tips -->
        <div class="col-lg-6 mb-4">
            <div class="card shadow h-100">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">
                        <i class="far fa-lightbulb me-2"></i>Your First Week Tips
                    </h6>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6 mb-4">
                            <div class="card h-100 border-left-primary">
                                <div class="card-body">
                                    <div class="d-flex align-items-center mb-2">
                                        <div class="icon-circle bg-primary bg-opacity-10 text-primary me-3">
                                            <i class="fas fa-handshake"></i>
                                        </div>
                                        <h6 class="mb-0">Make Connections</h6>
                                    </div>
                                    <p class="small mb-0">Schedule 1:1s with your team members and key stakeholders this week.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6 mb-4">
                            <div class="card h-100 border-left-success">
                                <div class="card-body">
                                    <div class="d-flex align-items-center mb-2">
                                        <div class="icon-circle bg-success bg-opacity-10 text-success me-3">
                                            <i class="fas fa-book"></i>
                                        </div>
                                        <h6 class="mb-0">Learn the Ropes</h6>
                                    </div>
                                    <p class="small mb-0">Review all onboarding materials in your portal by Friday.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6 mb-4 mb-md-0">
                            <div class="card h-100 border-left-info">
                                <div class="card-body">
                                    <div class="d-flex align-items-center mb-2">
                                        <div class="icon-circle bg-info bg-opacity-10 text-info me-3">
                                            <i class="fas fa-question"></i>
                                        </div>
                                        <h6 class="mb-0">Ask Questions</h6>
                                    </div>
                                    <p class="small mb-0">No question is too small - your team is here to help you succeed.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card h-100 border-left-warning">
                                <div class="card-body">
                                    <div class="d-flex align-items-center mb-2">
                                        <div class="icon-circle bg-warning bg-opacity-10 text-warning me-3">
                                            <i class="fas fa-bullseye"></i>
                                        </div>
                                        <h6 class="mb-0">Set Goals</h6>
                                    </div>
                                    <p class="small mb-0">Schedule time with your manager to set 30-60-90 day goals.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-2 text-center">
                        <a href="#" class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#firstWeekChecklist">
                            <i class="fas fa-tasks me-1"></i> View Full First Week Checklist
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- Meet Your Team -->
        <div class="col-lg-7 mb-4">
            <div class="card shadow h-100">
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">
                        <i class="fas fa-users me-2"></i>Meet Your Team
                    </h6>
                    <a href="#" class="btn btn-sm btn-outline-primary">View Org Chart</a>
                </div>
                <div class="card-body">
                    <div class="row">
                        <!-- Team Member 1 -->
                        <div class="col-6 col-md-4 col-lg-6 col-xl-3 text-center mb-4">
                            <img src="https://randomuser.me/api/portraits/women/32.jpg" class="rounded-circle mb-2" width="80" height="80" alt="Team Member">
                            <h6 class="mb-1">Sarah Johnson</h6>
                            <p class="small text-muted mb-1">Your Manager</p>
                            <p class="small text-muted">Senior Project Manager</p>
                            <a href="#" class="btn btn-sm btn-outline-primary w-100">
                                <i class="fas fa-envelope me-1"></i> Message
                            </a>
                        </div>
                        
                        <!-- Team Member 2 -->
                        <div class="col-6 col-md-4 col-lg-6 col-xl-3 text-center mb-4">
                            <img src="https://randomuser.me/api/portraits/men/42.jpg" class="rounded-circle mb-2" width="80" height="80" alt="Team Member">
                            <h6 class="mb-1">Michael Chen</h6>
                            <p class="small text-muted mb-1">Your Buddy</p>
                            <p class="small text-muted">Senior Developer</p>
                            <a href="#" class="btn btn-sm btn-outline-primary w-100">
                                <i class="fas fa-envelope me-1"></i> Message
                            </a>
                        </div>
                        
                        <!-- Team Member 3 -->
                        <div class="col-6 col-md-4 col-lg-6 col-xl-3 text-center mb-4">
                            <img src="https://randomuser.me/api/portraits/women/68.jpg" class="rounded-circle mb-2" width="80" height="80" alt="Team Member">
                            <h6 class="mb-1">Emily Rodriguez</h6>
                            <p class="small text-muted mb-1">Team Member</p>
                            <p class="small text-muted">UX Designer</p>
                            <a href="#" class="btn btn-sm btn-outline-primary w-100">
                                <i class="fas fa-envelope me-1"></i> Message
                            </a>
                        </div>
                        
                        <!-- Team Member 4 -->
                        <div class="col-6 col-md-4 col-lg-6 col-xl-3 text-center mb-4">
                            <img src="https://randomuser.me/api/portraits/men/75.jpg" class="rounded-circle mb-2" width="80" height="80" alt="Team Member">
                            <h6 class="mb-1">David Kim</h6>
                            <p class="small text-muted mb-1">Team Member</p>
                            <p class="small text-muted">Frontend Developer</p>
                            <a href="#" class="btn btn-sm btn-outline-primary w-100">
                                <i class="fas fa-envelope me-1"></i> Message
                            </a>
                        </div>
                    </div>
                    
                    <div class="text-center mt-2">
                        <a href="#" class="btn btn-sm btn-link">View All Team Members (12)</a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- FAQ for New Employees -->
        <div class="col-lg-5 mb-4">
            <div class="card shadow h-100">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">
                        <i class="far fa-question-circle me-2"></i>New Employee FAQs
                    </h6>
                </div>
                <div class="card-body p-0">
                    <div class="accordion" id="faqAccordion">
                        <!-- FAQ Item 1 -->
                        <div class="accordion-item border-0">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq1" aria-expanded="false" aria-controls="faq1">
                                    How do I set up my email on my phone?
                                </button>
                            </h2>
                            <div id="faq1" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>You can set up your company email on your mobile device by following these steps:</p>
                                    <ol>
                                        <li>Go to your device's Settings > Mail > Add Account</li>
                                        <li>Select "Microsoft Exchange" or "Office 365"</li>
                                        <li>Enter your company email address</li>
                                        <li>Sign in with your company credentials</li>
                                        <li>Follow the on-screen instructions to complete setup</li>
                                    </ol>
                                    <p class="mb-0">If you encounter any issues, contact IT support at <a href="mailto:it-support@company.com">it-support@company.com</a> or call ext. 4357.</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- FAQ Item 2 -->
                        <div class="accordion-item border-0">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2" aria-expanded="false" aria-controls="faq2">
                                    When will I receive my first paycheck?
                                </button>
                            </h2>
                            <div id="faq2" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>Employees are paid bi-weekly on Fridays. Your first paycheck will be processed on the next regular pay date after your start date. If you started in the middle of a pay period, your first paycheck will include pay for the partial period worked.</p>
                                    <p class="mb-0">You can view your pay schedule and access pay stubs through the employee self-service portal.</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- FAQ Item 3 -->
                        <div class="accordion-item border-0">
                            <h2 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3" aria-expanded="false" aria-controls="faq3">
                                    How do I request time off?
                                </button>
                            </h2>
                            <div id="faq3" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>To request time off:</p>
                                    <ol>
                                        <li>Log in to the employee portal</li>
                                        <li>Navigate to the Time Off section</li>
                                        <li>Click "Request Time Off"</li>
                                        <li>Select the dates and type of leave</li>
                                        <li>Add any notes for your manager</li>
                                        <li>Submit the request</li>
                                    </ol>
                                    <p class="mb-0">Please submit requests at least two weeks in advance when possible. Your manager will review and approve or deny the request.</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- FAQ Item 4 -->
                        <div class="accordion-item border-0">
                            <h2 class="accordion-header" id="headingFour">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4" aria-expanded="false" aria-controls="faq4">
                                    What benefits am I eligible for?
                                </button>
                            </h2>
                            <div id="faq4" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>As a full-time employee, you're eligible for our comprehensive benefits package, including:</p>
                                    <ul>
                                        <li>Health, dental, and vision insurance</li>
                                        <li>401(k) with company match (after 90 days)</li>
                                        <li>Paid time off and holidays</li>
                                        <li>Professional development budget</li>
                                        <li>Wellness program</li>
                                        <li>Employee assistance program</li>
                                    </ul>
                                    <p class="mb-0">You can review your benefits in detail and make elections through the benefits portal within 30 days of your start date.</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- FAQ Item 5 -->
                        <div class="accordion-item border-0">
                            <h2 class="accordion-header" id="headingFive">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5" aria-expanded="false" aria-controls="faq5">
                                    Where can I find company policies?
                                </button>
                            </h2>
                            <div id="faq5" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>All company policies are available in the employee handbook, which you can access through the employee portal. Key policies include:</p>
                                    <ul>
                                        <li>Code of Conduct</li>
                                        <li>Remote Work Policy</li>
                                        <li>Expense Reimbursement</li>
                                        <li>Dress Code</li>
                                        <li>Social Media Guidelines</li>
                                    </ul>
                                    <p class="mb-0">If you have any questions about company policies, please reach out to your manager or the HR department.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="p-3 border-top">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Have a question? Ask here...">
                            <button class="btn btn-primary" type="button">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Quick Links -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card shadow">
                <div class="card-body p-3">
                    <div class="d-flex flex-wrap gap-2 justify-content-center">
                        <a href="#" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-book me-1"></i> Employee Handbook
                        </a>
                        <a href="#" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-building me-1"></i> Company Directory
                        </a>
                        <a href="#" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-chart-line me-1"></i> Performance Goals
                        </a>
                        <a href="#" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-graduation-cap me-1"></i> Training Portal
                        </a>
                        <a href="#" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-heartbeat me-1"></i> Benefits Overview
                        </a>
                        <a href="#" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-question-circle me-1"></i> Help Center
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- First Week Checklist Modal -->
<div class="modal fade" id="firstWeekChecklist" tabindex="-1" aria-labelledby="firstWeekChecklistLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="firstWeekChecklistLabel">First Week Checklist</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th width="40"></th>
                                <th>Task</th>
                                <th>Due</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input class="form-check-input" type="checkbox" id="task1" checked></td>
                                <td><label class="form-check-label" for="task1">Complete new hire paperwork</label></td>
                                <td>Day 1</td>
                                <td><span class="badge bg-success">Completed</span></td>
                            </tr>
                            <tr>
                                <td><input class="form-check-input" type="checkbox" id="task2" checked></td>
                                <td><label class="form-check-label" for="task2">IT setup and system access</label></td>
                                <td>Day 1</td>
                                <td><span class="badge bg-success">Completed</span></td>
                            </tr>
                            <tr>
                                <td><input class="form-check-input" type="checkbox" id="task3" checked></td>
                                <td><label class="form-check-label" for="task3">Meet with your manager</label></td>
                                <td>Day 1</td>
                                <td><span class="badge bg-success">Completed</span></td>
                            </tr>
                            <tr>
                                <td><input class="form-check-input" type="checkbox" id="task4"></td>
                                <td><label class="form-check-label" for="task4">Complete required training modules</label></td>
                                <td>Day 3</td>
                                <td><span class="badge bg-warning text-dark">In Progress</span></td>
                            </tr>
                            <tr>
                                <td><input class="form-check-input" type="checkbox" id="task5"></td>
                                <td><label class="form-check-label" for="task5">Schedule 1:1s with team members</label></td>
                                <td>Day 5</td>
                                <td><span class="badge bg-secondary">Pending</span></td>
                            </tr>
                            <tr>
                                <td><input class="form-check-input" type="checkbox" id="task6"></td>
                                <td><label class="form-check-label" for="task6">Set up 30-60-90 day goals with manager</label></td>
                                <td>Day 5</td>
                                <td><span class="badge bg-secondary">Pending</span></td>
                            </tr>
                            <tr>
                                <td><input class="form-check-input" type="checkbox" id="task7"></td>
                                <td><label class="form-check-label" for="task7">Complete benefits enrollment</label></td>
                                <td>Day 7</td>
                                <td><span class="badge bg-secondary">Pending</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save Changes</button>
            </div>
        </div>
    </div>
</div>

<!-- Help Modal -->
<div class="modal fade" id="helpModal" tabindex="-1" aria-labelledby="helpModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="helpModalLabel">Need Help?</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>We're here to help you get settled in! Here's how you can get assistance:</p>
                
                <div class="mb-3">
                    <h6><i class="fas fa-headset text-primary me-2"></i>IT Support</h6>
                    <p class="ms-4 mb-2">For technical issues, contact IT Support:</p>
                    <ul class="ms-4">
                        <li>Email: <a href="mailto:it-support@company.com">it-support@company.com</a></li>
                        <li>Phone: Ext. 4357 (HELP)</li>
                        <li>Hours: Mon-Fri, 8:00 AM - 6:00 PM</li>
                    </ul>
                </div>
                
                <div class="mb-3">
                    <h6><i class="fas fa-user-tie text-primary me-2"></i>HR Support</h6>
                    <p class="ms-4 mb-2">For HR-related questions, contact:</p>
                    <ul class="ms-4">
                        <li>Email: <a href="mailto:hr@company.com">hr@company.com</a></li>
                        <li>Phone: Ext. 2000</li>
                    </ul>
                </div>
                
                <div class="mb-3">
                    <h6><i class="fas fa-book text-primary me-2"></i>Knowledge Base</h6>
                    <p class="ms-4 mb-2">Check our knowledge base for answers to common questions:</p>
                    <div class="ms-4">
                        <a href="#" class="btn btn-sm btn-outline-primary">
                            <i class="fas fa-book-open me-1"></i> Visit Knowledge Base
                        </a>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Enable tooltips
document.addEventListener('DOMContentLoaded', function() {
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });

    // Start tour button
    const startTourBtn = document.getElementById('startTourBtn');
    if (startTourBtn) {
        startTourBtn.addEventListener('click', function() {
            // In a real app, this would start an interactive tour
            alert('Starting your onboarding tour! This will guide you through the key features of your employee portal.');
        });
    }

    // Handle checklist item clicks
    const checkboxes = document.querySelectorAll('#firstWeekChecklist input[type="checkbox"]');
    checkboxes.forEach(checkbox => {
        checkbox.addEventListener('change', function() {
            const row = this.closest('tr');
            const statusCell = row.querySelector('td:last-child');
            if (this.checked) {
                statusCell.innerHTML = '<span class="badge bg-success">Completed</span>';
            } else {
                statusCell.innerHTML = '<span class="badge bg-secondary">Pending</span>';
            }
        });
    });
});
</script>
{% endblock %}
